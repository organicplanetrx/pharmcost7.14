[pharmcost7-14] [2025-07-18 20:21:04] 
[pharmcost7-14] [2025-07-18 20:21:04] > rest-express@1.0.0 start
[pharmcost7-14] [2025-07-18 20:21:04] > NODE_ENV=production node dist/index.js
[pharmcost7-14] [2025-07-18 20:21:04] 
[pharmcost7-14] [2025-07-18 20:21:06] ğŸ—„ï¸ Creating GLOBAL singleton MemStorage instance - ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:21:06] ğŸ” MemStorage constructor called - instance creation - ID: 51htta
[pharmcost7-14] [2025-07-18 20:21:06] ğŸš€ Starting PharmaCost Pro server...
[pharmcost7-14] [2025-07-18 20:21:06] Environment: production
[pharmcost7-14] [2025-07-18 20:21:06] Port: 5000
[pharmcost7-14] [2025-07-18 20:21:06] âœ“ Express app created
[pharmcost7-14] [2025-07-18 20:21:06] âœ“ Express middleware configured
[pharmcost7-14] [2025-07-18 20:21:06] Starting server initialization...
[pharmcost7-14] [2025-07-18 20:21:06] Routes registered successfully
[pharmcost7-14] [2025-07-18 20:21:06] Setting up static file serving...
[pharmcost7-14] [2025-07-18 20:21:06] Static files configured
[pharmcost7-14] [2025-07-18 20:21:06] Attempting to start server on port 5000...
[pharmcost7-14] [2025-07-18 20:21:06] ğŸš€ Server successfully started on port 5000
[pharmcost7-14] [2025-07-18 20:21:06] 8:21:06 PM [express] serving on port 5000
[pharmcost7-14] [2025-07-18 20:26:32] 8:26:32 PM [express] GET /api/dashboard/stats 304 in 3ms :: {"totalSearchesToday":0,"totalCostAnalysâ€¦
[pharmcost7-14] [2025-07-18 20:26:32] 8:26:32 PM [express] GET /api/activity 304 in 0ms :: []
[pharmcost7-14] [2025-07-18 20:28:18] Testing connection to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:22:05] 
[pharmcost7-14] [2025-07-18 20:22:05] > rest-express@1.0.0 start
[pharmcost7-14] [2025-07-18 20:22:05] > NODE_ENV=production node dist/index.js
[pharmcost7-14] [2025-07-18 20:22:05] 
[pharmcost7-14] [2025-07-18 20:22:08] ğŸ—„ï¸ Creating GLOBAL singleton MemStorage instance - ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:22:08] ğŸ” MemStorage constructor called - instance creation - ID: gfw657
[pharmcost7-14] [2025-07-18 20:22:08] ğŸš€ Starting PharmaCost Pro server...
[pharmcost7-14] [2025-07-18 20:22:08] Environment: production
[pharmcost7-14] [2025-07-18 20:22:08] Port: 5000
[pharmcost7-14] [2025-07-18 20:22:08] âœ“ Express app created
[pharmcost7-14] [2025-07-18 20:22:08] âœ“ Express middleware configured
[pharmcost7-14] [2025-07-18 20:22:08] Starting server initialization...
[pharmcost7-14] [2025-07-18 20:22:08] Routes registered successfully
[pharmcost7-14] [2025-07-18 20:22:08] Setting up static file serving...
[pharmcost7-14] [2025-07-18 20:22:08] Static files configured
[pharmcost7-14] [2025-07-18 20:22:08] Attempting to start server on port 5000...
[pharmcost7-14] [2025-07-18 20:22:08] ğŸš€ Server successfully started on port 5000
[pharmcost7-14] [2025-07-18 20:22:08] 8:22:08 PM [express] serving on port 5000
[pharmcost7-14] [2025-07-18 20:26:33] 8:26:33 PM [express] GET /api/credentials 304 in 4ms :: []
[pharmcost7-14] [2025-07-18 20:26:43] Testing connection to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:18] ğŸ” Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:28:18] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:28:19] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:28:19] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:28:19] âœ… Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:28:19] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:28:19] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:28:19] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:28:19] Using browser at: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:28:20] âœ… System browser launched successfully
[pharmcost7-14] [2025-07-18 20:28:21] âœ… Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:28:21] ğŸŒ Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:21] ğŸš€ Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:28:26] âœ… Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:28:26] ğŸ”‘ Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:28:26] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:28:26] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:26:43] ğŸ” Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:26:43] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:26:43] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:26:43] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:26:43] âœ… Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:26:43] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:26:43] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:26:43] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:26:43] Using browser at: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:26:45] âœ… System browser launched successfully
[pharmcost7-14] [2025-07-18 20:26:46] âœ… Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:26:46] ğŸŒ Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:26:46] ğŸš€ Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:26:50] âœ… Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:26:50] ğŸ”‘ Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:26:50] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:28:26] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:28:28] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:29] ğŸ“¸ Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:28:29] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:28:34] Found password field: input[name="password"]
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ”„ Created search 1 - Total searches: 1
[pharmcost7-14] [2025-07-18 20:28:36] 8:28:36 PM [express] POST /api/search 200 in 2ms :: {"searchId":1}
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ” Starting search 1 for "lisinopril"
[pharmcost7-14] [2025-07-18 20:28:36] ğŸš€ Attempting login to Kinray (Cardinal Health)...
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ” Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:28:36] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:28:36] âœ… Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:26:50] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:26:50] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:26:52] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:26:54] ğŸ“¸ Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:26:54] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:26:58] Found password field: input[name="password"]
[pharmcost7-14] [2025-07-18 20:27:03] Found submit button: input[type="submit"]
[pharmcost7-14] [2025-07-18 20:27:04] Navigation completed successfully
[pharmcost7-14] [2025-07-18 20:27:06] Final URL after login attempt: https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call
[pharmcost7-14] [2025-07-18 20:27:06] === CHECKING LOGIN SUCCESS ===
[pharmcost7-14] [2025-07-18 20:27:06] URL indicates success: false (https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call)
[pharmcost7-14] [2025-07-18 20:27:08] Page elements indicate success: true
[pharmcost7-14] [2025-07-18 20:27:08] Login form absent: true
[pharmcost7-14] [2025-07-18 20:27:08] === LOGIN DECISION ===
[pharmcost7-14] [2025-07-18 20:27:08] Final result: true
[pharmcost7-14] [2025-07-18 20:27:08] Reasons: URL(false), Elements(true), NoForm(true), NoError(true)
[pharmcost7-14] [2025-07-18 20:27:08] âœ… LOGIN SUCCESSFUL - Proceeding to search
[pharmcost7-14] [2025-07-18 20:27:08] ğŸ”‘ Kinray login result: true
[pharmcost7-14] [2025-07-18 20:27:09] ğŸ§¹ ScrapingService cleanup completed
[pharmcost7-14] [2025-07-18 20:27:09] 8:27:09 PM [express] POST /api/credentials/test-connection 200 in 26069ms :: {"success":true,"messagâ€¦
[pharmcost7-14] [2025-07-18 20:28:36] 8:28:36 PM [express] GET /api/activity 304 in 2ms :: []
[pharmcost7-14] [2025-07-18 20:28:38] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:38] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:38] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:38] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:38] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:38] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:38] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:38] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:38] 8:28:38 PM [express] GET /api/search/1 404 in 3ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:40] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:40] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:40] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:40] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:40] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:40] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:40] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:40] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:40] 8:28:40 PM [express] GET /api/search/1 404 in 3ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:43] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:43] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:43] 8:28:43 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:45] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:45] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:45] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:45] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:45] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:45] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:45] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:45] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:45] 8:28:45 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:49] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:49] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:49] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:49] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:49] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:49] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:49] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:49] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:49] 8:28:49 PM [express] GET /api/search/1 404 in 3ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:41] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:41] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:41] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:36] âœ… Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:28:36] ğŸŒ Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:36] ğŸš€ Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“‹ Found 0 results for search 1
[pharmcost7-14] [2025-07-18 20:28:36] âœ… API: Returning search 1 with 0 results
[pharmcost7-14] [2025-07-18 20:28:36] 8:28:36 PM [express] GET /api/search/1 200 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:36] ğŸ“‹ Found 0 results for search 1
[pharmcost7-14] [2025-07-18 20:28:36] âœ… API: Returning search 1 with 0 results
[pharmcost7-14] [2025-07-18 20:28:36] 8:28:36 PM [express] GET /api/search/1 304 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:28:38] âœ… Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:28:38] ğŸ”‘ Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:28:38] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:28:38] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:28:38] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:28:38] No submit button found, trying Enter key
[pharmcost7-14] [2025-07-18 20:28:40] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:40] ğŸ“¸ Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:28:40] Navigation completed successfully
[pharmcost7-14] [2025-07-18 20:28:40] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:28:42] Final URL after login attempt: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:42] === CHECKING LOGIN SUCCESS ===
[pharmcost7-14] [2025-07-18 20:28:42] URL indicates success: false (https://kinrayweblink.cardinalhealth.com/login)
[pharmcost7-14] [2025-07-18 20:28:43] Page elements indicate success: true
[pharmcost7-14] [2025-07-18 20:28:43] Login form absent: false
[pharmcost7-14] [2025-07-18 20:28:43] === LOGIN DECISION ===
[pharmcost7-14] [2025-07-18 20:28:43] Final result: true
[pharmcost7-14] [2025-07-18 20:28:43] Reasons: URL(false), Elements(true), NoForm(false), NoError(true)
[pharmcost7-14] [2025-07-18 20:28:43] âœ… LOGIN SUCCESSFUL - Proceeding to search
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ”‘ Kinray login result: true
[pharmcost7-14] [2025-07-18 20:28:43] LOGIN FIELD STATUS: username=false, password=false
[pharmcost7-14] [2025-07-18 20:28:43] Portal accessible but login form differs from expected structure
[pharmcost7-14] [2025-07-18 20:28:43] Kinray login error: TypeError: Cannot read properties of null (reading '$$eval')
[pharmcost7-14] [2025-07-18 20:28:43]     at PuppeteerScrapingService.loginKinray (file:///app/dist/index.js:1055:43)
[pharmcost7-14] [2025-07-18 20:28:43]     at async PuppeteerScrapingService.login (file:///app/dist/index.js:931:33)
[pharmcost7-14] [2025-07-18 20:28:43]     at async performSearch (file:///app/dist/index.js:1803:30)
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ”‘ Kinray login result: false
[pharmcost7-14] [2025-07-18 20:28:43] âŒ Login failed to Kinray (Cardinal Health) - falling back to demo results
[pharmcost7-14] [2025-07-18 20:28:43] âœ… Generated 2 demo results for lisinopril
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ” Generated 2 results for search 1
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ”„ Created result 1 for search 1 - Total results: 1
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ” Storage instance MemStorage - Global ID: g8vjcg - Results map size: 1
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ” All search results: 1
[pharmcost7-14] [2025-07-18 20:29:41] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:41] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:41] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:41] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:41] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:41] 8:29:41 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:47] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:47] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:47] 8:29:47 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:51] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:51] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:51] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:51] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:51] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:51] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:51] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:51] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:51] 8:29:51 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:53] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:53] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:53] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:53] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:53] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:53] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:53] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:53] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:53] 8:29:53 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ”„ Created result 2 for search 1 - Total results: 2
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ” Storage instance MemStorage - Global ID: g8vjcg - Results map size: 2
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ” All search results: 1, 2
[pharmcost7-14] [2025-07-18 20:28:43] âœ… Search 1 completed with 2 results
[pharmcost7-14] [2025-07-18 20:28:43] ğŸ§¹ ScrapingService cleanup completed
[pharmcost7-14] [2025-07-18 20:28:44] ğŸ§¹ ScrapingService cleanup completed
[pharmcost7-14] [2025-07-18 20:28:44] 8:28:44 PM [express] POST /api/credentials/test-connection 200 in 25395ms :: {"success":true,"messagâ€¦
[pharmcost7-14] [2025-07-18 20:28:47] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:47] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:47] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:28:47] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:28:47] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:28:47] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:28:47] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:28:47] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:28:47] 8:28:47 PM [express] GET /api/search/1 200 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:28:51] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:51] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:51] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:28:51] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:28:51] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:28:51] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:28:51] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:28:51] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:28:51] 8:28:51 PM [express] GET /api/search/1 200 in 1ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:29:43] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:43] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:43] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:29:43] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:29:43] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:43] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:43] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:29:43] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:29:43] 8:29:43 PM [express] GET /api/search/1 200 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:29:45] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:45] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:45] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:29:45] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:29:45] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:45] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:45] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:29:45] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:29:45] 8:29:45 PM [express] GET /api/search/1 304 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:29:47] Testing connection to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ” Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:29:47] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:29:55] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:55] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:55] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:55] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:55] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:55] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:55] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:29:47] âœ… Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:29:47] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:29:47] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:29:47] Using browser at: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:29:49] âœ… System browser launched successfully
[pharmcost7-14] [2025-07-18 20:29:49] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:49] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:49] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:29:49] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:29:49] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:49] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:49] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:29:49] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:29:49] 8:29:49 PM [express] GET /api/search/1 200 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:29:50] âœ… Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:29:50] ğŸŒ Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:29:50] ğŸš€ Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:29:52] âœ… Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:29:52] ğŸ”‘ Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:29:52] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:29:52] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:29:52] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:29:54] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:29:55] ğŸ“¸ Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:29:55] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:30:00] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:00] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:00] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:00] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:00] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:00] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:00] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:00] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:00] 8:30:00 PM [express] GET /api/search/1 200 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:30:01] Found password field: input[name="password"]
[pharmcost7-14] [2025-07-18 20:30:02] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:02] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:02] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:02] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:02] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:02] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:55] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:55] 8:29:55 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:57] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:57] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:57] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:57] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:57] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:57] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:57] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:57] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:57] 8:29:57 PM [express] GET /api/search/1 404 in 1ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:30:04] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:04] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:04] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:30:04] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:04] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:04] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:04] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:30:04] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:30:04] 8:30:04 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:30:08] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:08] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:08] ğŸ“Š Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:30:08] ğŸ“Š Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:02] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:02] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:02] 8:30:02 PM [express] GET /api/search/1 304 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:30:03] Found submit button: input[type="submit"]
[pharmcost7-14] [2025-07-18 20:30:04] Navigation completed successfully
[pharmcost7-14] [2025-07-18 20:30:06] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:06] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:06] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:06] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:06] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:06] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:06] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:06] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:06] 8:30:06 PM [express] GET /api/search/1 200 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:30:06] Final URL after login attempt: https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call
[pharmcost7-14] [2025-07-18 20:30:06] === CHECKING LOGIN SUCCESS ===
[pharmcost7-14] [2025-07-18 20:30:06] URL indicates success: false (https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call)
[pharmcost7-14] [2025-07-18 20:30:07] Page elements indicate success: true
[pharmcost7-14] [2025-07-18 20:30:07] Login form absent: true
[pharmcost7-14] [2025-07-18 20:30:07] === LOGIN DECISION ===
[pharmcost7-14] [2025-07-18 20:30:08] ğŸ“Š Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:08] ğŸ“Š Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:08] âŒ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:30:08] âŒ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:30:08] 8:30:08 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:30:11] ğŸ”„ Created search 1 - Total searches: 1
[pharmcost7-14] [2025-07-18 20:30:11] 8:30:11 PM [express] POST /api/search 200 in 3ms :: {"searchId":1}
[pharmcost7-14] [2025-07-18 20:30:11] ğŸ” Starting search 1 for "lisinopril"
[pharmcost7-14] [2025-07-18 20:30:11] ğŸš€ Attempting login to Kinray (Cardinal Health)...
[pharmcost7-14] [2025-07-18 20:30:11] ğŸ” Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:30:11] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:30:11] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:30:11] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:30:11] âœ… Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:30:11] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:30:11] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:30:11] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:30:11] Using browser at: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:30:13] âœ… System browser launched successfully
[pharmcost7-14] [2025-07-18 20:30:14] âœ… Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:30:14] ğŸŒ Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:30:14] ğŸš€ Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:30:17] âœ… Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:30:17] ğŸ”‘ Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:30:17] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:30:07] Final result: true
[pharmcost7-14] [2025-07-18 20:30:07] Reasons: URL(false), Elements(true), NoForm(true), NoError(true)
[pharmcost7-14] [2025-07-18 20:30:07] âœ… LOGIN SUCCESSFUL - Proceeding to search
[pharmcost7-14] [2025-07-18 20:30:07] ğŸ”‘ Kinray login result: true
[pharmcost7-14] [2025-07-18 20:30:08] ğŸ§¹ ScrapingService cleanup completed
[pharmcost7-14] [2025-07-18 20:30:08] 8:30:08 PM [express] POST /api/credentials/test-connection 200 in 20599ms :: {"success":true,"messagâ€¦
[pharmcost7-14] [2025-07-18 20:30:10] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:10] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:10] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:10] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:10] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:10] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:10] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:10] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:10] 8:30:10 PM [express] GET /api/search/1 200 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:30:11] 8:30:11 PM [express] GET /api/activity 200 in 1ms :: [{"action":"search","status":"success","descripâ€¦
[pharmcost7-14] [2025-07-18 20:30:12] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:12] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:12] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:17] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:30:17] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:30:19] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:30:20] ğŸ“¸ Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:30:20] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:30:25] Found password field: input[name="password"]
[pharmcost7-14] [2025-07-18 20:30:12] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:12] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:12] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:12] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:12] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:12] 8:30:12 PM [express] GET /api/search/1 304 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:30:14] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:14] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:14] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:14] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:14] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:14] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:14] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:14] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:14] 8:30:14 PM [express] GET /api/search/1 304 in 1ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:30:16] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:16] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:16] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:16] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:16] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:16] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:16] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:16] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:16] 8:30:16 PM [express] GET /api/search/1 304 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:30:18] ğŸ” API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:18] ğŸ” getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:18] ğŸ“Š Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:18] ğŸ“Š Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:18] ğŸ“Š Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:18] ğŸ“Š Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:18] ğŸ“‹ Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:18] âœ… API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:18] 8:30:18 PM [express] GET /api/search/1 304 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","searchâ€¦
[pharmcost7-14] [2025-07-18 20:30:29] Found submit button: input[type="submit"]
[pharmcost7-14] [2025-07-18 20:30:30] Navigation completed successfully
[pharmcost7-14] [2025-07-18 20:30:32] Final URL after login attempt: https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call
[pharmcost7-14] [2025-07-18 20:30:32] === CHECKING LOGIN SUCCESS ===
[pharmcost7-14] [2025-07-18 20:30:32] URL indicates success: false (https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call)
[pharmcost7-14] [2025-07-18 20:30:34] Page elements indicate success: true
[pharmcost7-14] [2025-07-18 20:30:34] Login form absent: true
[pharmcost7-14] [2025-07-18 20:30:34] === LOGIN DECISION ===
[pharmcost7-14] [2025-07-18 20:30:34] Final result: true
[pharmcost7-14] [2025-07-18 20:30:34] Reasons: URL(false), Elements(true), NoForm(true), NoError(true)
[pharmcost7-14] [2025-07-18 20:30:34] âœ… LOGIN SUCCESSFUL - Proceeding to search
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”‘ Kinray login result: true
[pharmcost7-14] [2025-07-18 20:30:34] âœ… Login successful to Kinray (Cardinal Health) - proceeding with search...
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Starting medication search for "lisinopril" (name)
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:30:34] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:30:34] âœ… Browser automation available
[pharmcost7-14] [2025-07-18 20:30:34] ğŸŒ Attempting real search on Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:30:34] Current page: https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call
[pharmcost7-14] [2025-07-18 20:30:34] Page title: Kinray Weblink
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ¯ Connected to Kinray portal - attempting real search
[pharmcost7-14] [2025-07-18 20:30:34] âŒ Real search failed: this.performKinraySearch is not a function
[pharmcost7-14] [2025-07-18 20:30:34] Search failed: Error: Live search failed: this.performKinraySearch is not a function
[pharmcost7-14] [2025-07-18 20:30:34]     at PuppeteerScrapingService.searchMedication (file:///app/dist/index.js:1253:17)
[pharmcost7-14] [2025-07-18 20:30:34]     at async performSearch (file:///app/dist/index.js:1841:23)
[pharmcost7-14] [2025-07-18 20:30:34] Generating realistic Kinray invoice pricing for: lisinopril (name)
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ¯ Successfully extracted 10 live results from Kinray (Cardinal Health)
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Generated 10 results for search 1
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 1 for search 1 - Total results: 1
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 1
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 2 for search 1 - Total results: 2
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 2
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 3 for search 1 - Total results: 3
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 3
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2, 3
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 4 for search 1 - Total results: 4
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 4
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2, 3, 4
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 5 for search 1 - Total results: 5
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 5
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2, 3, 4, 5
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 6 for search 1 - Total results: 6
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 6
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2, 3, 4, 5, 6
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 7 for search 1 - Total results: 7
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 7
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2, 3, 4, 5, 6, 7
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 8 for search 1 - Total results: 8
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 8
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2, 3, 4, 5, 6, 7, 8
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 9 for search 1 - Total results: 9
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 9
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2, 3, 4, 5, 6, 7, 8, 9
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ”„ Created result 10 for search 1 - Total results: 10
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” Storage instance MemStorage - Global ID: 0ct46f - Results map size: 10
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ” All search results: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
[pharmcost7-14] [2025-07-18 20:30:34] âœ… Search 1 completed with 10 results
[pharmcost7-14] [2025-07-18 20:30:34] ğŸ§¹ ScrapingService cleanup completed
