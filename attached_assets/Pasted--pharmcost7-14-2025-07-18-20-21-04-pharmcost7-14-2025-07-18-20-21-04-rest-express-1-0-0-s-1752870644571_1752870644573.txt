[pharmcost7-14] [2025-07-18 20:21:04] 
[pharmcost7-14] [2025-07-18 20:21:04] > rest-express@1.0.0 start
[pharmcost7-14] [2025-07-18 20:21:04] > NODE_ENV=production node dist/index.js
[pharmcost7-14] [2025-07-18 20:21:04] 
[pharmcost7-14] [2025-07-18 20:21:06] 🗄️ Creating GLOBAL singleton MemStorage instance - ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:21:06] 🔍 MemStorage constructor called - instance creation - ID: 51htta
[pharmcost7-14] [2025-07-18 20:21:06] 🚀 Starting PharmaCost Pro server...
[pharmcost7-14] [2025-07-18 20:21:06] Environment: production
[pharmcost7-14] [2025-07-18 20:21:06] Port: 5000
[pharmcost7-14] [2025-07-18 20:21:06] ✓ Express app created
[pharmcost7-14] [2025-07-18 20:21:06] ✓ Express middleware configured
[pharmcost7-14] [2025-07-18 20:21:06] Starting server initialization...
[pharmcost7-14] [2025-07-18 20:21:06] Routes registered successfully
[pharmcost7-14] [2025-07-18 20:21:06] Setting up static file serving...
[pharmcost7-14] [2025-07-18 20:21:06] Static files configured
[pharmcost7-14] [2025-07-18 20:21:06] Attempting to start server on port 5000...
[pharmcost7-14] [2025-07-18 20:21:06] 🚀 Server successfully started on port 5000
[pharmcost7-14] [2025-07-18 20:21:06] 8:21:06 PM [express] serving on port 5000
[pharmcost7-14] [2025-07-18 20:26:32] 8:26:32 PM [express] GET /api/dashboard/stats 304 in 3ms :: {"totalSearchesToday":0,"totalCostAnalys…
[pharmcost7-14] [2025-07-18 20:26:32] 8:26:32 PM [express] GET /api/activity 304 in 0ms :: []
[pharmcost7-14] [2025-07-18 20:28:18] Testing connection to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:22:05] 
[pharmcost7-14] [2025-07-18 20:22:05] > rest-express@1.0.0 start
[pharmcost7-14] [2025-07-18 20:22:05] > NODE_ENV=production node dist/index.js
[pharmcost7-14] [2025-07-18 20:22:05] 
[pharmcost7-14] [2025-07-18 20:22:08] 🗄️ Creating GLOBAL singleton MemStorage instance - ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:22:08] 🔍 MemStorage constructor called - instance creation - ID: gfw657
[pharmcost7-14] [2025-07-18 20:22:08] 🚀 Starting PharmaCost Pro server...
[pharmcost7-14] [2025-07-18 20:22:08] Environment: production
[pharmcost7-14] [2025-07-18 20:22:08] Port: 5000
[pharmcost7-14] [2025-07-18 20:22:08] ✓ Express app created
[pharmcost7-14] [2025-07-18 20:22:08] ✓ Express middleware configured
[pharmcost7-14] [2025-07-18 20:22:08] Starting server initialization...
[pharmcost7-14] [2025-07-18 20:22:08] Routes registered successfully
[pharmcost7-14] [2025-07-18 20:22:08] Setting up static file serving...
[pharmcost7-14] [2025-07-18 20:22:08] Static files configured
[pharmcost7-14] [2025-07-18 20:22:08] Attempting to start server on port 5000...
[pharmcost7-14] [2025-07-18 20:22:08] 🚀 Server successfully started on port 5000
[pharmcost7-14] [2025-07-18 20:22:08] 8:22:08 PM [express] serving on port 5000
[pharmcost7-14] [2025-07-18 20:26:33] 8:26:33 PM [express] GET /api/credentials 304 in 4ms :: []
[pharmcost7-14] [2025-07-18 20:26:43] Testing connection to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:18] 🔐 Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:28:18] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:28:19] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:28:19] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:28:19] ✅ Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:28:19] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:28:19] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:28:19] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:28:19] Using browser at: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:28:20] ✅ System browser launched successfully
[pharmcost7-14] [2025-07-18 20:28:21] ✅ Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:28:21] 🌐 Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:21] 🚀 Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:28:26] ✅ Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:28:26] 🔑 Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:28:26] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:28:26] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:26:43] 🔐 Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:26:43] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:26:43] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:26:43] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:26:43] ✅ Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:26:43] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:26:43] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:26:43] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:26:43] Using browser at: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:26:45] ✅ System browser launched successfully
[pharmcost7-14] [2025-07-18 20:26:46] ✅ Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:26:46] 🌐 Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:26:46] 🚀 Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:26:50] ✅ Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:26:50] 🔑 Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:26:50] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:28:26] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:28:28] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:29] 📸 Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:28:29] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:28:34] Found password field: input[name="password"]
[pharmcost7-14] [2025-07-18 20:28:36] 🔄 Created search 1 - Total searches: 1
[pharmcost7-14] [2025-07-18 20:28:36] 8:28:36 PM [express] POST /api/search 200 in 2ms :: {"searchId":1}
[pharmcost7-14] [2025-07-18 20:28:36] 🔍 Starting search 1 for "lisinopril"
[pharmcost7-14] [2025-07-18 20:28:36] 🚀 Attempting login to Kinray (Cardinal Health)...
[pharmcost7-14] [2025-07-18 20:28:36] 🔐 Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:28:36] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:28:36] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:28:36] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:28:36] ✅ Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:26:50] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:26:50] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:26:52] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:26:54] 📸 Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:26:54] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:26:58] Found password field: input[name="password"]
[pharmcost7-14] [2025-07-18 20:27:03] Found submit button: input[type="submit"]
[pharmcost7-14] [2025-07-18 20:27:04] Navigation completed successfully
[pharmcost7-14] [2025-07-18 20:27:06] Final URL after login attempt: https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call
[pharmcost7-14] [2025-07-18 20:27:06] === CHECKING LOGIN SUCCESS ===
[pharmcost7-14] [2025-07-18 20:27:06] URL indicates success: false (https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call)
[pharmcost7-14] [2025-07-18 20:27:08] Page elements indicate success: true
[pharmcost7-14] [2025-07-18 20:27:08] Login form absent: true
[pharmcost7-14] [2025-07-18 20:27:08] === LOGIN DECISION ===
[pharmcost7-14] [2025-07-18 20:27:08] Final result: true
[pharmcost7-14] [2025-07-18 20:27:08] Reasons: URL(false), Elements(true), NoForm(true), NoError(true)
[pharmcost7-14] [2025-07-18 20:27:08] ✅ LOGIN SUCCESSFUL - Proceeding to search
[pharmcost7-14] [2025-07-18 20:27:08] 🔑 Kinray login result: true
[pharmcost7-14] [2025-07-18 20:27:09] 🧹 ScrapingService cleanup completed
[pharmcost7-14] [2025-07-18 20:27:09] 8:27:09 PM [express] POST /api/credentials/test-connection 200 in 26069ms :: {"success":true,"messag…
[pharmcost7-14] [2025-07-18 20:28:36] 8:28:36 PM [express] GET /api/activity 304 in 2ms :: []
[pharmcost7-14] [2025-07-18 20:28:38] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:38] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:38] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:38] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:38] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:38] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:38] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:38] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:38] 8:28:38 PM [express] GET /api/search/1 404 in 3ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:40] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:40] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:40] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:40] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:40] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:40] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:40] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:40] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:40] 8:28:40 PM [express] GET /api/search/1 404 in 3ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:43] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:43] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:43] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:43] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:43] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:43] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:43] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:43] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:43] 8:28:43 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:45] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:45] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:45] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:45] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:45] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:45] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:45] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:45] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:45] 8:28:45 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:49] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:49] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:49] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:49] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:49] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:49] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:49] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:28:49] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:28:49] 8:28:49 PM [express] GET /api/search/1 404 in 3ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:41] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:41] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:41] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:28:36] ✅ Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:28:36] 🌐 Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:36] 🚀 Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:28:36] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:36] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:36] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:28:36] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:28:36] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:36] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:36] 📋 Found 0 results for search 1
[pharmcost7-14] [2025-07-18 20:28:36] ✅ API: Returning search 1 with 0 results
[pharmcost7-14] [2025-07-18 20:28:36] 8:28:36 PM [express] GET /api/search/1 200 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:28:36] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:36] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:36] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:28:36] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:28:36] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:36] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:28:36] 📋 Found 0 results for search 1
[pharmcost7-14] [2025-07-18 20:28:36] ✅ API: Returning search 1 with 0 results
[pharmcost7-14] [2025-07-18 20:28:36] 8:28:36 PM [express] GET /api/search/1 304 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:28:38] ✅ Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:28:38] 🔑 Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:28:38] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:28:38] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:28:38] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:28:38] No submit button found, trying Enter key
[pharmcost7-14] [2025-07-18 20:28:40] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:40] 📸 Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:28:40] Navigation completed successfully
[pharmcost7-14] [2025-07-18 20:28:40] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:28:42] Final URL after login attempt: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:28:42] === CHECKING LOGIN SUCCESS ===
[pharmcost7-14] [2025-07-18 20:28:42] URL indicates success: false (https://kinrayweblink.cardinalhealth.com/login)
[pharmcost7-14] [2025-07-18 20:28:43] Page elements indicate success: true
[pharmcost7-14] [2025-07-18 20:28:43] Login form absent: false
[pharmcost7-14] [2025-07-18 20:28:43] === LOGIN DECISION ===
[pharmcost7-14] [2025-07-18 20:28:43] Final result: true
[pharmcost7-14] [2025-07-18 20:28:43] Reasons: URL(false), Elements(true), NoForm(false), NoError(true)
[pharmcost7-14] [2025-07-18 20:28:43] ✅ LOGIN SUCCESSFUL - Proceeding to search
[pharmcost7-14] [2025-07-18 20:28:43] 🔑 Kinray login result: true
[pharmcost7-14] [2025-07-18 20:28:43] LOGIN FIELD STATUS: username=false, password=false
[pharmcost7-14] [2025-07-18 20:28:43] Portal accessible but login form differs from expected structure
[pharmcost7-14] [2025-07-18 20:28:43] Kinray login error: TypeError: Cannot read properties of null (reading '$$eval')
[pharmcost7-14] [2025-07-18 20:28:43]     at PuppeteerScrapingService.loginKinray (file:///app/dist/index.js:1055:43)
[pharmcost7-14] [2025-07-18 20:28:43]     at async PuppeteerScrapingService.login (file:///app/dist/index.js:931:33)
[pharmcost7-14] [2025-07-18 20:28:43]     at async performSearch (file:///app/dist/index.js:1803:30)
[pharmcost7-14] [2025-07-18 20:28:43] 🔑 Kinray login result: false
[pharmcost7-14] [2025-07-18 20:28:43] ❌ Login failed to Kinray (Cardinal Health) - falling back to demo results
[pharmcost7-14] [2025-07-18 20:28:43] ✅ Generated 2 demo results for lisinopril
[pharmcost7-14] [2025-07-18 20:28:43] 🔍 Generated 2 results for search 1
[pharmcost7-14] [2025-07-18 20:28:43] 🔄 Created result 1 for search 1 - Total results: 1
[pharmcost7-14] [2025-07-18 20:28:43] 🔍 Storage instance MemStorage - Global ID: g8vjcg - Results map size: 1
[pharmcost7-14] [2025-07-18 20:28:43] 🔍 All search results: 1
[pharmcost7-14] [2025-07-18 20:29:41] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:41] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:41] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:41] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:41] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:41] 8:29:41 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:47] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:47] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:47] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:47] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:47] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:47] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:47] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:47] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:47] 8:29:47 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:51] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:51] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:51] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:51] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:51] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:51] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:51] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:51] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:51] 8:29:51 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:53] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:53] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:53] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:53] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:53] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:53] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:53] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:53] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:53] 8:29:53 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:28:43] 🔄 Created result 2 for search 1 - Total results: 2
[pharmcost7-14] [2025-07-18 20:28:43] 🔍 Storage instance MemStorage - Global ID: g8vjcg - Results map size: 2
[pharmcost7-14] [2025-07-18 20:28:43] 🔍 All search results: 1, 2
[pharmcost7-14] [2025-07-18 20:28:43] ✅ Search 1 completed with 2 results
[pharmcost7-14] [2025-07-18 20:28:43] 🧹 ScrapingService cleanup completed
[pharmcost7-14] [2025-07-18 20:28:44] 🧹 ScrapingService cleanup completed
[pharmcost7-14] [2025-07-18 20:28:44] 8:28:44 PM [express] POST /api/credentials/test-connection 200 in 25395ms :: {"success":true,"messag…
[pharmcost7-14] [2025-07-18 20:28:47] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:47] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:47] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:28:47] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:28:47] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:28:47] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:28:47] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:28:47] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:28:47] 8:28:47 PM [express] GET /api/search/1 200 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:28:51] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:28:51] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:28:51] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:28:51] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:28:51] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:28:51] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:28:51] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:28:51] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:28:51] 8:28:51 PM [express] GET /api/search/1 200 in 1ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:29:43] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:43] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:43] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:29:43] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:29:43] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:43] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:43] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:29:43] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:29:43] 8:29:43 PM [express] GET /api/search/1 200 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:29:45] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:45] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:45] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:29:45] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:29:45] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:45] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:45] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:29:45] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:29:45] 8:29:45 PM [express] GET /api/search/1 304 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:29:47] Testing connection to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:29:47] 🔐 Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:29:47] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:29:47] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:29:55] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:55] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:55] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:55] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:55] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:55] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:55] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:47] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:29:47] ✅ Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:29:47] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:29:47] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:29:47] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:29:47] Using browser at: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:29:49] ✅ System browser launched successfully
[pharmcost7-14] [2025-07-18 20:29:49] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:49] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:49] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:29:49] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:29:49] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:49] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:49] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:29:49] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:29:49] 8:29:49 PM [express] GET /api/search/1 200 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:29:50] ✅ Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:29:50] 🌐 Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:29:50] 🚀 Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:29:52] ✅ Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:29:52] 🔑 Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:29:52] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:29:52] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:29:52] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:29:54] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:29:55] 📸 Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:29:55] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:30:00] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:00] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:00] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:00] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:00] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:00] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:00] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:00] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:00] 8:30:00 PM [express] GET /api/search/1 200 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:30:01] Found password field: input[name="password"]
[pharmcost7-14] [2025-07-18 20:30:02] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:02] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:02] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:02] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:02] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:02] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:29:55] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:55] 8:29:55 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:29:57] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:29:57] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:29:57] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:29:57] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:57] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:57] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:29:57] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:29:57] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:29:57] 8:29:57 PM [express] GET /api/search/1 404 in 1ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:30:04] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:04] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:04] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:30:04] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:04] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:04] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:04] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:30:04] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:30:04] 8:30:04 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:30:08] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:08] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:08] 📊 Storage instance: MemStorage - Global ID: 0ct46f
[pharmcost7-14] [2025-07-18 20:30:08] 📊 Available searches: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:02] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:02] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:02] 8:30:02 PM [express] GET /api/search/1 304 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:30:03] Found submit button: input[type="submit"]
[pharmcost7-14] [2025-07-18 20:30:04] Navigation completed successfully
[pharmcost7-14] [2025-07-18 20:30:06] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:06] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:06] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:06] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:06] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:06] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:06] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:06] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:06] 8:30:06 PM [express] GET /api/search/1 200 in 3ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:30:06] Final URL after login attempt: https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call
[pharmcost7-14] [2025-07-18 20:30:06] === CHECKING LOGIN SUCCESS ===
[pharmcost7-14] [2025-07-18 20:30:06] URL indicates success: false (https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call)
[pharmcost7-14] [2025-07-18 20:30:07] Page elements indicate success: true
[pharmcost7-14] [2025-07-18 20:30:07] Login form absent: true
[pharmcost7-14] [2025-07-18 20:30:07] === LOGIN DECISION ===
[pharmcost7-14] [2025-07-18 20:30:08] 📊 Available results: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:08] 📊 Available medications: 0 - IDs: []
[pharmcost7-14] [2025-07-18 20:30:08] ❌ Search 1 not found in storage
[pharmcost7-14] [2025-07-18 20:30:08] ❌ API: Search 1 not found
[pharmcost7-14] [2025-07-18 20:30:08] 8:30:08 PM [express] GET /api/search/1 404 in 2ms :: {"message":"Search not found"}
[pharmcost7-14] [2025-07-18 20:30:11] 🔄 Created search 1 - Total searches: 1
[pharmcost7-14] [2025-07-18 20:30:11] 8:30:11 PM [express] POST /api/search 200 in 3ms :: {"searchId":1}
[pharmcost7-14] [2025-07-18 20:30:11] 🔍 Starting search 1 for "lisinopril"
[pharmcost7-14] [2025-07-18 20:30:11] 🚀 Attempting login to Kinray (Cardinal Health)...
[pharmcost7-14] [2025-07-18 20:30:11] 🔐 Attempting login to Kinray (Cardinal Health) with username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:30:11] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:30:11] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:30:11] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:30:11] ✅ Browser automation available - attempting real portal login
[pharmcost7-14] [2025-07-18 20:30:11] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:30:11] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:30:11] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:30:11] Using browser at: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:30:13] ✅ System browser launched successfully
[pharmcost7-14] [2025-07-18 20:30:14] ✅ Browser initialized successfully
[pharmcost7-14] [2025-07-18 20:30:14] 🌐 Connecting to Kinray (Cardinal Health) at https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:30:14] 🚀 Launching browser navigation...
[pharmcost7-14] [2025-07-18 20:30:17] ✅ Successfully connected to Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:30:17] 🔑 Starting Kinray-specific login process...
[pharmcost7-14] [2025-07-18 20:30:17] === KINRAY LOGIN ATTEMPT ===
[pharmcost7-14] [2025-07-18 20:30:07] Final result: true
[pharmcost7-14] [2025-07-18 20:30:07] Reasons: URL(false), Elements(true), NoForm(true), NoError(true)
[pharmcost7-14] [2025-07-18 20:30:07] ✅ LOGIN SUCCESSFUL - Proceeding to search
[pharmcost7-14] [2025-07-18 20:30:07] 🔑 Kinray login result: true
[pharmcost7-14] [2025-07-18 20:30:08] 🧹 ScrapingService cleanup completed
[pharmcost7-14] [2025-07-18 20:30:08] 8:30:08 PM [express] POST /api/credentials/test-connection 200 in 20599ms :: {"success":true,"messag…
[pharmcost7-14] [2025-07-18 20:30:10] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:10] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:10] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:10] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:10] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:10] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:10] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:10] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:10] 8:30:10 PM [express] GET /api/search/1 200 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:30:11] 8:30:11 PM [express] GET /api/activity 200 in 1ms :: [{"action":"search","status":"success","descrip…
[pharmcost7-14] [2025-07-18 20:30:12] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:12] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:12] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:17] Username: organicplanetrx@gmail.com
[pharmcost7-14] [2025-07-18 20:30:17] Password length: 12 characters
[pharmcost7-14] [2025-07-18 20:30:19] Current URL: https://kinrayweblink.cardinalhealth.com/login
[pharmcost7-14] [2025-07-18 20:30:20] 📸 Screenshot saved as kinray-login-page.png
[pharmcost7-14] [2025-07-18 20:30:20] Found username field: input[name="username"]
[pharmcost7-14] [2025-07-18 20:30:25] Found password field: input[name="password"]
[pharmcost7-14] [2025-07-18 20:30:12] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:12] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:12] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:12] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:12] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:12] 8:30:12 PM [express] GET /api/search/1 304 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:30:14] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:14] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:14] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:14] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:14] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:14] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:14] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:14] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:14] 8:30:14 PM [express] GET /api/search/1 304 in 1ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:30:16] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:16] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:16] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:16] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:16] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:16] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:16] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:16] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:16] 8:30:16 PM [express] GET /api/search/1 304 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:30:18] 🔍 API: Fetching search 1
[pharmcost7-14] [2025-07-18 20:30:18] 🔍 getSearchWithResults called for searchId: 1
[pharmcost7-14] [2025-07-18 20:30:18] 📊 Storage instance: MemStorage - Global ID: g8vjcg
[pharmcost7-14] [2025-07-18 20:30:18] 📊 Available searches: 1 - IDs: [1]
[pharmcost7-14] [2025-07-18 20:30:18] 📊 Available results: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:18] 📊 Available medications: 2 - IDs: [1, 2]
[pharmcost7-14] [2025-07-18 20:30:18] 📋 Found 2 results for search 1
[pharmcost7-14] [2025-07-18 20:30:18] ✅ API: Returning search 1 with 2 results
[pharmcost7-14] [2025-07-18 20:30:18] 8:30:18 PM [express] GET /api/search/1 304 in 2ms :: {"vendorId":1,"searchTerm":"lisinopril","search…
[pharmcost7-14] [2025-07-18 20:30:29] Found submit button: input[type="submit"]
[pharmcost7-14] [2025-07-18 20:30:30] Navigation completed successfully
[pharmcost7-14] [2025-07-18 20:30:32] Final URL after login attempt: https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call
[pharmcost7-14] [2025-07-18 20:30:32] === CHECKING LOGIN SUCCESS ===
[pharmcost7-14] [2025-07-18 20:30:32] URL indicates success: false (https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call)
[pharmcost7-14] [2025-07-18 20:30:34] Page elements indicate success: true
[pharmcost7-14] [2025-07-18 20:30:34] Login form absent: true
[pharmcost7-14] [2025-07-18 20:30:34] === LOGIN DECISION ===
[pharmcost7-14] [2025-07-18 20:30:34] Final result: true
[pharmcost7-14] [2025-07-18 20:30:34] Reasons: URL(false), Elements(true), NoForm(true), NoError(true)
[pharmcost7-14] [2025-07-18 20:30:34] ✅ LOGIN SUCCESSFUL - Proceeding to search
[pharmcost7-14] [2025-07-18 20:30:34] 🔑 Kinray login result: true
[pharmcost7-14] [2025-07-18 20:30:34] ✅ Login successful to Kinray (Cardinal Health) - proceeding with search...
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Starting medication search for "lisinopril" (name)
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Starting browser path detection...
[pharmcost7-14] [2025-07-18 20:30:34] which command failed, trying manual paths...
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Using Docker Chrome path: /usr/bin/google-chrome-stable
[pharmcost7-14] [2025-07-18 20:30:34] ✅ Browser automation available
[pharmcost7-14] [2025-07-18 20:30:34] 🌐 Attempting real search on Kinray (Cardinal Health) portal
[pharmcost7-14] [2025-07-18 20:30:34] Current page: https://kinrayweblink.cardinalhealth.com/signin/verify/okta/call
[pharmcost7-14] [2025-07-18 20:30:34] Page title: Kinray Weblink
[pharmcost7-14] [2025-07-18 20:30:34] 🎯 Connected to Kinray portal - attempting real search
[pharmcost7-14] [2025-07-18 20:30:34] ❌ Real search failed: this.performKinraySearch is not a function
[pharmcost7-14] [2025-07-18 20:30:34] Search failed: Error: Live search failed: this.performKinraySearch is not a function
[pharmcost7-14] [2025-07-18 20:30:34]     at PuppeteerScrapingService.searchMedication (file:///app/dist/index.js:1253:17)
[pharmcost7-14] [2025-07-18 20:30:34]     at async performSearch (file:///app/dist/index.js:1841:23)
[pharmcost7-14] [2025-07-18 20:30:34] Generating realistic Kinray invoice pricing for: lisinopril (name)
[pharmcost7-14] [2025-07-18 20:30:34] 🎯 Successfully extracted 10 live results from Kinray (Cardinal Health)
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Generated 10 results for search 1
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 1 for search 1 - Total results: 1
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 1
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 2 for search 1 - Total results: 2
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 2
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 3 for search 1 - Total results: 3
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 3
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2, 3
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 4 for search 1 - Total results: 4
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 4
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2, 3, 4
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 5 for search 1 - Total results: 5
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 5
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2, 3, 4, 5
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 6 for search 1 - Total results: 6
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 6
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2, 3, 4, 5, 6
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 7 for search 1 - Total results: 7
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 7
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2, 3, 4, 5, 6, 7
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 8 for search 1 - Total results: 8
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 8
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2, 3, 4, 5, 6, 7, 8
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 9 for search 1 - Total results: 9
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 9
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2, 3, 4, 5, 6, 7, 8, 9
[pharmcost7-14] [2025-07-18 20:30:34] 🔄 Created result 10 for search 1 - Total results: 10
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 Storage instance MemStorage - Global ID: 0ct46f - Results map size: 10
[pharmcost7-14] [2025-07-18 20:30:34] 🔍 All search results: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
[pharmcost7-14] [2025-07-18 20:30:34] ✅ Search 1 completed with 10 results
[pharmcost7-14] [2025-07-18 20:30:34] 🧹 ScrapingService cleanup completed
